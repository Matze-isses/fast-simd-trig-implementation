import matplotlib.pyplot as plt
import numpy as np


data = [
    [844.30521787653606, 0.64325145766924074],
    [1030.4906332643627, 0.15526797536171891],
    [1079.1155411478228, 0.013582790990832623],
    [1105.6405721638873, 0.00061980848281556857],
    [1236.7339504891531, 1.7396565610622941e-05],
    [1278.9023433357361, 3.3079774504378339e-07],
    [1375.9264646436125, 4.5434787248917367e-09],
    [1418.0478846789301, 4.7188629920554115e-11],
    [1509.8773511569821, 3.836472861958413e-13],
    [1639.7471045348732, 2.5978295666583934e-15],
    [1712.8466923023725, 1.0927414068023693e-16],
    [1893.2881113077146, 1.0510822198767532e-16],
    [2015.6501812159067, 1.0508935608472559e-16],
    [2188.1957878575568, 1.0508939599161731e-16],
    [2234.5852282456535, 1.0508939599161731e-16],
    [2542.3047608743595, 1.0508939599161731e-16],
    [2620.7691849220814, 1.0508939599161731e-16],
    [2849.8923554700714, 1.0508939599161731e-16],
    [3159.5153041606509, 1.0508939599161731e-16],
    [3326.4820324327143, 1.0508939599161731e-16],
    [3423.4590993520701, 1.0508939599161731e-16],
    [3538.8640547671594, 1.0508939599161731e-16],
    [3831.4106351618434, 1.0508939599161731e-16],
    [3911.8147925243356, 1.0508939599161731e-16],
    [4059.0495345282729, 1.0508939599161731e-16]
]

x = list(range(1, len(data) * 2, 2))
y1 = [d[0] for d in data]
y2 = [d[1] for d in data]

# Create two subplots sharing the x-axis
fig, (ax1, ax2) = plt.subplots(
    2, 1,              # 2 rows, 1 column
    sharex=True,       # share the same x-axis
    figsize=(6, 6),    # overall figure size
    gridspec_kw={'height_ratios': [1, 1]}  # equal height
)

# Top plot (linear)
ax1.plot(x, y1, label='Calculation Time')
ax1.set_ylabel('Time (ms)')
ax1.legend()

# Bottom plot (logarithmic y-scale)
ax2.plot(x, y2, label='exp(x)')
ax2.set_yscale('log')
ax2.set_xlabel('x')
ax2.set_ylabel('Error')
ax2.legend()

# Make layout tight and clean
plt.tight_layout()

plt.savefig("./plots/full_function_t2e.png")
plt.show()
